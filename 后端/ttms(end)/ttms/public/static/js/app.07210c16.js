(function(e){function t(t){for(var o,s,r=t[0],n=t[1],c=t[2],u=0,f=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);m&&m(t);while(f.length)f.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],o=!0,r=1;r<a.length;r++){var n=a[r];0!==i[n]&&(o=!1)}o&&(l.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},i={app:0},l=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],n=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var m=n;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var o=a("85ec"),i=a.n(o);i.a},"0ca1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEIUlEQVR4Xu1bTYgURxT+Xrc/IfOjRqd3swkh4GEzPTBsIiTxoNFDTmJCDpIoCPEkBjxILjkEYk4eFQNJIIcEAyHqRUXwEtCQg6AoUTI9rgpCVpTpURZ2ZtwNzNQLvWTH2XGcruqu3ekhNbehX33fe1+9evXTXYT/+Y9U4/f9QvoFpqJtiaIQGFVtvxT2FvEULOtmrWl7o6M3GyocSgLM+O4WC/QDwOMqJMtmy/gbNn+Z3lD+WZZTWoBaxT1MhK9kgQdpx4yvMyPeYRkfpASoP8rvhaATMoBJsRHA1qzj/RHmT6gADx5sejFrz5ZBeC0MLFnPabIu7E1hNSFUgIbvvsnA9WQFJ+cNWfR2akPpaj/rUAHq1cJuMP8iR5ksKwHal3VKP8USYJiKX3egMsUwNAOMAEM0/ZkM6FLADAGJBZGpAWETlymCpggOzyZoaWaBh29sWwBmoo1k0QSBtwJUDBs+y/z8BjNfsYA/hWBvgTvz8q1LsVaCvRpzreg0ZlvHAf54mYN8Dh2fEM3W59mx249U/QmdBfoB1iqFb4n4gCqpTntm+i4zUvosKmYsAWaq4+MW7MtgrIvqQKx2hGmB1uZsbnIyKs4iAaanJ9aumJub6AbrN44GOU2GrfRqHfVrIab0quZ1Wn93ZuF/W4CG755iYFdPJZmrRHQy5XgHu5/XfHcXAaei9kCcdkTWzlTur/PP+BRM3cBBEF7qWcMY5zIj3ofBs3kB6r7LMo4Q4Uwq533UafvkcfFV0WpOybTXbUPEY6lc+WEnbt3PXwSoPXP140w7HlGt4p4lwgeyzvVKO1kBZTlk7YIAOm1VhyMBp6nuu/cAvC5LCvCvaae8e7HqchkkzyFn2S1A3Xd/BPCpXOt5q6lAAKn0fwrKl9JOeXsyBZBP/3YRNAKYDDBDwNQAhaoJwBRBMwuYadCsA8xCyKwEzVK4QwH15bTaxPs862c3Q2YvIH0WoHUzpKc/46OoHIYYAf5TQMt5QPy+04NgMkDhPDDWEGCm3/X0mV4UIn5P9kA0hgB6nR40WoQaMGiX9fIbAQa1itPbj9HRTAaYDPDz9wF6JXoSDXXLSvBucGguQmiXmvgoNar5twC6zIxV2gkSDcizYPvd+berT3z3iAC+SLS/mp1j8CcZp3zy6QcSVfccM3Zq5kkmHOG3dM57P3Bu0fv1RsXdz4Tvk+m1Jq+IjqVzpUPtvUA3bKOa38GC9oCwRxNlImAY+MYCLqQc70KnQ8pfiQUfHpFtXewVFbfE9rAPE+OqoZtfWYB+l6hkLinFFUA3v7IAwTW6NStn7zBjbFEwhFK9teKdsGtqcQXQza8sQBBArzRcaVNh9fpS+xvduIH2a6+TP5IAgXP/PC64zabYBqI5kLiRyt26tpRBd2Pr4o8swHIGu5Rc/wL8nXVo4rSAeAAAAABJRU5ErkJggg=="},1200:function(e,t,a){},"18d5":function(e,t,a){e.exports=a.p+"static/img/user.cba13229.jpg"},"1c48":function(e,t,a){"use strict";var o=a("4d2c"),i=a.n(o);i.a},"289e":function(e,t,a){},"2e11":function(e,t,a){"use strict";var o=a("3233"),i=a.n(o);i.a},3233:function(e,t,a){},3973:function(e,t,a){"use strict";var o=a("c6a0"),i=a.n(o);i.a},"3f23":function(e,t,a){"use strict";var o=a("76f6"),i=a.n(o);i.a},4340:function(e,t,a){},4749:function(e,t,a){"use strict";var o=a("d5eb"),i=a.n(o);i.a},"4af6":function(e,t,a){"use strict";var o=a("82c0"),i=a.n(o);i.a},"4d2c":function(e,t,a){},"4f7f":function(e,t,a){"use strict";var o=a("289e"),i=a.n(o);i.a},"51e2":function(e,t,a){"use strict";var o=a("73ce"),i=a.n(o);i.a},5387:function(e,t,a){"use strict";var o=a("1200"),i=a.n(o);i.a},"55ed":function(e,t,a){"use strict";var o=a("ebe6"),i=a.n(o);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}}),a("router-view")],1)},l=[],s=(a("034f"),a("2877")),r={},n=Object(s["a"])(r,i,l,!1,null,null,null),c=n.exports,m=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},f=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._m(0),a("h3",[e._v("Installed CLI Plugins")]),e._m(1),a("h3",[e._v("Essential Links")]),e._m(2),a("h3",[e._v("Ecosystem")]),e._m(3)])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v(" For a guide and recipes on how to configure / customize this project,"),a("br"),e._v(" check out the "),a("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(". ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[e._v("router")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex",target:"_blank",rel:"noopener"}},[e._v("vuex")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),a("li",[a("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),a("li",[a("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),a("li",[a("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],p={name:"HelloWorld",props:{msg:String}},h=p,b=(a("7def"),Object(s["a"])(h,d,v,!1,null,"1935ec24",null)),g=b.exports,C={name:"Home",components:{HelloWorld:g}},_=C,k=Object(s["a"])(_,u,f,!1,null,null,null),y=k.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-page",attrs:{"status-icon":"","label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[a("label",{attrs:{for:""}},[e._v("用心写bug影院")])]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}})],1),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",id:"btn1"},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)],1)},S=[],N=a("82ae"),D=a.n(N),F={data:function(){return{userName:"",passWord:""}},methods:{handleSubmit:function(){var e=this;D()({url:"http://localhost:2020/login",method:"post",data:{username:this.userName,password:this.passWord}}).then((function(t){console.log(t);t.data.username,t.data.identify;"对不起，您无权操作后台管理系统！"==t.data.identify&&alert(t.data.identify),"系统管理员"==t.data.identify&&(alert("登陆成功！欢迎".concat(t.data.identify,"登陆后台管理系统！")),sessionStorage.setItem("userInfo",JSON.stringify(t.data)),e.$store.dispatch("setUser",JSON.stringify(t.data)),e.$router.push({path:"/admin"})),"剧院经理"==t.data.identify&&(alert("登陆成功！欢迎".concat(t.data.identify,"登陆后台管理系统！")),sessionStorage.setItem("userInfo",JSON.stringify(t.data)),e.$store.dispatch("setUser",JSON.stringify(t.data)),e.$router.push({path:"/manager"})),"售票员"==t.data.identify&&(alert("登陆成功！欢迎".concat(t.data.identify,"登陆后台管理系统！")),sessionStorage.setItem("userInfo",JSON.stringify(t.data)),e.$store.dispatch("setUser",JSON.stringify(t.data)),e.$router.push({path:"/ticket"})),"普通用户"==t.data.identify&&(alert("登陆成功！欢迎".concat(t.data.identify,"登陆后台管理系统！")),sessionStorage.setItem("userInfo",JSON.stringify(t.data)),e.$store.dispatch("setUser",JSON.stringify(t.data)),e.$router.push({path:"/users"}))}))}}},x=F,z=(a("fcb0"),Object(s["a"])(x,w,S,!1,null,null,null)),A=z.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-box"},[a("div",{staticClass:"header"},[e._m(0),a("div",{staticClass:"user"},[e._v(" "+e._s(e.id)+":"+e._s(e.name)+" "),a("a",{attrs:{id:"exit"},on:{click:e.exit}},[e._v("退出系统")])])]),a("div",{staticClass:"left"},[a("el-row",{staticClass:"tac",staticStyle:{height:"100%"}},[a("el-col",{attrs:{span:20}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#EFF1F6","text-color":"black","active-text-color":"#409EFF"},on:{open:e.handleOpen,close:e.handleClose}},[a("router-link",{attrs:{to:"/admin/movies-home"}},[a("el-menu-item",{attrs:{index:"1"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("管理演出影厅")])])],1),a("router-link",{attrs:{to:"/admin/user-manager"}},[a("el-menu-item",{attrs:{index:"2"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("管理系统用户")])])],1)],1)],1)],1)],1),a("div",{staticClass:"right"},[a("router-view")],1)])},V=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",[a("em",[e._v("TTMS")])]),e._v(" -影院后台管理系统 ")])}],P=(a("b0c0"),{data:function(){return{name:"",id:""}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},exit:function(){this.$router.push({path:"/login"})},isLogin:function(){this.$store.commit("userStatus",sessionStorage.getItem("userInfo"))}},created:function(){this.isLogin(),console.log(JSON.parse(this.$store.state.currentUser)),this.id=JSON.parse(this.$store.state.currentUser).identify,this.name=JSON.parse(this.$store.state.currentUser).username}}),j=P,M=(a("3973"),Object(s["a"])(j,H,V,!1,null,null,null)),T=M.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"top1"},[e._v("电影演出厅管理")]),a("div",{staticClass:"bottom"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"movieHallNumber",label:"影厅序号",width:"180"}}),a("el-table-column",{attrs:{prop:"movieHallName",label:"影厅名称",width:"280"}}),a("el-table-column",{attrs:{prop:"movieHallStates",label:"影厅状态"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.handleClick(t.row),e.jumpMHD()}}},[e._v("查看影厅详情")])]}}])})],1)],1)])},$=[];a("d3b7");function O(e){return new Promise((function(t,a){var o=D.a.create({baseURL:"http://localhost:2020",timeout:5e3});o.interceptors.request.use((function(e){return e}),(function(e){})),o.interceptors.response.use((function(e){return e.data}),(function(e){console.log(e)})),o(e).then((function(e){t(e)})).catch((function(e){a(e)}))}))}function L(){return O({url:"/movieHall"})}var B={data:function(){return{tableData:[]}},created:function(){var e=this;L().then((function(t){console.log(t),e.tableData=t}))},methods:{jumpMHD:function(){},handleClick:function(e){this.$router.push({name:"影厅详情",query:{detail:e.movieHallName}}),console.log(e.movieHallName)}}},W=B,J=(a("ae21"),Object(s["a"])(W,E,$,!1,null,null,null)),Q=J.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"添加用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"用户密码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"用户权限"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择用户权限"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}},[a("el-option",{attrs:{label:"管理员",value:"管理员"}}),a("el-option",{attrs:{label:"售票员",value:"售票员"}}),a("el-option",{attrs:{label:"剧院经理",value:"剧院经理"}}),a("el-option",{attrs:{label:"普通用户",value:"普通用户"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1,e.submit()}}},[e._v("确 定")])],1)],1),a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"修改用户信息",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"用户密码"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"用户权限"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择用户权限"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}},[a("el-option",{attrs:{label:"管理员",value:"管理员"}}),a("el-option",{attrs:{label:"售票员",value:"售票员"}}),a("el-option",{attrs:{label:"剧院经理",value:"剧院经理"}}),a("el-option",{attrs:{label:"普通用户",value:"普通用户"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1,e.change()}}},[e._v("修 改")])],1)],1),a("div",{staticClass:"top1"},[e._v(" 管理系统用户 "),a("div",{staticClass:"return"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加用户")])],1)]),a("div",{staticClass:"bottom"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"username",label:"用户名称",width:"180"}}),a("el-table-column",{attrs:{prop:"password",label:"用户密码",width:"180"}}),a("el-table-column",{attrs:{prop:"identify",label:"用户权限"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleClick(t.row),e.dialogFormVisible2=!0}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleClick2(t.row)}}},[e._v("删除")])]}}])})],1),[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)],1)],1)])},U=[];function q(){return O({url:"/user"})}var G={data:function(){return{tableData:[],currentPage:1,pagesize:5,currpage:1,dialogTableVisible:!1,dialogFormVisible:!1,dialogTableVisible2:!1,dialogFormVisible2:!1,_id:"",form:{username:"",password:"",id:"",delivery:!1},formLabelWidth:"120px"}},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},submit:function(){D()({url:"http://localhost:2020/addUser",method:"post",data:{username:this.form.username,password:this.form.password,id:this.form.id}}).then((function(e){console.log(e),alert(e.data),location.reload()}))},handleClick2:function(e){D()({url:"http://localhost:2020/deleteUser",method:"post",data:{id:e._id}}).then((function(e){console.log(e),alert(e.data),location.reload()}))},handleClick:function(e){console.log(e._id),this._id=e._id,this.form.username=e.username,this.form.password=e.password,this.form.id=e.identify},change:function(){D()({url:"http://localhost:2020/updateUser",method:"post",data:{id:this._id,username:this.form.username,password:this.form.password,id2:this.form.id}}).then((function(e){console.log(e),alert(e.data),location.reload()}))}},created:function(){var e=this;q().then((function(t){console.log(t),e.tableData=t}))}},Y=G,K=(a("1c48"),Object(s["a"])(Y,I,U,!1,null,null,null)),R=K.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"添加座位",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"座位序号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),a("el-form-item",{attrs:{label:"所属影厅","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieHall,callback:function(t){e.$set(e.form,"movieHall",t)},expression:"form.movieHall"}})],1),a("el-form-item",{attrs:{label:"座位状态","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1,e.addTable()}}},[e._v("确 定")])],1)],1),a("div",{staticClass:"top"},[e._v(" "+e._s(e.movieHallName)+" "),a("div",{staticClass:"return"},[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加座位")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.jumpup()}}},[e._v("返回")])],1)]),a("div",{staticClass:"bottom"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.movieHallTableList.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"tableNumber",label:"影厅座位序号",width:"180"}}),a("el-table-column",{attrs:{prop:"tableHallName",label:"所属影厅名称",width:"180"}}),a("el-table-column",{attrs:{prop:"tableState",label:"影厅座位状态"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"}},[e._v("-----------------")])],1),[a("div",{staticClass:"page2"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.movieHallTableList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)],1)])},Z=[],ee=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},te=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"back-box"},[a("div",{staticClass:"white-box"})])}],ae={},oe=ae,ie=(a("b054"),Object(s["a"])(oe,ee,te,!1,null,null,null)),le=ie.exports,se={data:function(){return{tableData:[],movieHallName:"123",movieHallTableList:[],currentPage:1,pagesize:5,currpage:1,dialogTableVisible:!1,dialogFormVisible:!1,form:{number:"",movieHall:"",state:"ready",delivery:!1},formLabelWidth:"120px"}},created:function(){var e=this;console.log(this.$route.query.detail),D()({url:"http://localhost:2020/movieDetail",method:"POST",data:{movieHallName:this.$route.query.detail}}).then((function(t){console.log(t),e.movieHallTableList=t.data})),this.movieHallName=this.$route.query.detail,this.form.movieHall=this.$route.query.detail},destroyed:function(){},methods:{jumpup:function(){this.$router.push({path:"/admin/movies-home"})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},addTable:function(){D()({url:"http://localhost:2020/addTable",method:"post",data:{tableNumber:this.form.number,tableHallName:this.form.movieHall,tableState:this.form.state}}).then((function(e){console.log(e),alert(e.data),location.reload()}))}},components:{toast:le}},re=se,ne=(a("83fc"),Object(s["a"])(re,X,Z,!1,null,null,null)),ce=ne.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"查看剧目详情",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"剧目名称"}},[a("el-input",{attrs:{autocomplete:"off",disabled:"true"},model:{value:e.form.movieName,callback:function(t){e.$set(e.form,"movieName",t)},expression:"form.movieName"}})],1),a("el-form-item",{attrs:{label:"剧目时长"}},[a("el-input",{attrs:{autocomplete:"off",disabled:"true"},model:{value:e.form.movieDuration,callback:function(t){e.$set(e.form,"movieDuration",t)},expression:"form.movieDuration"}})],1),a("el-form-item",{attrs:{label:"剧目来源"}},[a("el-input",{attrs:{autocomplete:"off",disabled:"true"},model:{value:e.form.movieFrom,callback:function(t){e.$set(e.form,"movieFrom",t)},expression:"form.movieFrom"}})],1),a("el-form-item",{attrs:{label:"电影类型"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择剧目类型",disabled:"true"},model:{value:e.form.movieClass,callback:function(t){e.$set(e.form,"movieClass",t)},expression:"form.movieClass"}},[a("el-option",{attrs:{label:"搞笑/励志",value:"搞笑/励志"}}),a("el-option",{attrs:{label:"动画电影",value:"动画电影"}}),a("el-option",{attrs:{label:"冒险/奇幻",value:"冒险/奇幻"}}),a("el-option",{attrs:{label:"青春/励志",value:"青春/励志"}}),a("el-option",{attrs:{label:"爱情/喜剧",value:"爱情/喜剧"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("确 定")])],1)],1),a("div",{staticClass:"home1"},[a("div",{staticClass:"top11"},[a("div",{staticClass:"left1"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"0px"}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入你要搜索的电影名称......"},model:{value:e.form.searchName,callback:function(t){e.$set(e.form,"searchName",t)},expression:"form.searchName"}})],1)],1),a("el-row")],1),a("div",{staticClass:"right1"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:e.globalSearch}},[e._v("点击搜索")]),a("el-button",{staticStyle:{float:"left"},on:{click:e.clear}},[e._v("重置剧目")])],1)]),a("div",{staticClass:"bottom1"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"movieName",label:"电影名称",width:"180"}}),a("el-table-column",{attrs:{prop:"movieHall",label:"上映影厅",width:"180"}}),a("el-table-column",{attrs:{prop:"movieDate",label:"上映日期"}}),a("el-table-column",{attrs:{prop:"movieClass",label:"电影类型"}}),a("el-table-column",{attrs:{prop:"movieState",label:"电影状态"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleClick(t.row),e.dialogFormVisible2=!0}}},[e._v("查看")])]}}])})],1),[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)])],1)},ue=[];function fe(){return O({url:"/films"})}function de(){return O({url:"/message"})}var ve={data:function(){return{_id:"",arr1:"",arr2:"",arr3:"",tableData:[],currentPage:1,pagesize:5,currpage:1,dialogTableVisible:!1,dialogFormVisible:!1,dialogTableVisible2:!1,dialogFormVisible2:!1,form:{movieName:"",movieDate:"------",movieDuration:"",movieHall:"------",movieFrom:"",movieClass:"",movieState:"等待上映",movieMoney:"",state:"1",searchName:""}}},created:function(){var e=this;fe().then((function(t){e.arr1=t,e.tableData=e.arr1}))},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},addMovie:function(){D()({url:"http://localhost:2020/addMovie",method:"post",data:{movieName:this.form.movieName,movieDate:this.form.movieDate,movieDuration:this.form.movieDuration,movieHall:this.form.movieHall,movieFrom:this.form.movieFrom,movieClass:this.form.movieClass,movieState:this.form.movieState,movieMoney:this.form.movieMoney,state:this.form.state}}).then((function(e){alert(e.data),location.reload()}))},handleClick:function(e){console.log(e._id),this._id=e._id,this.form.movieName=e.movieName,this.form.movieDuration=e.movieDuration,this.form.movieFrom=e.movieFrom,this.form.movieClass=e.movieClass},globalSearch:function(){var e=this;D()({url:"http://localhost:2020/searchMovie",method:"post",data:{searchName:this.form.searchName}}).then((function(t){e.arr2=t.data,e.tableData=e.arr2}))},clear:function(){this.tableData=this.arr1,this.form.searchName=""}}},pe=ve,he=(a("df96"),Object(s["a"])(pe,me,ue,!1,null,null,null)),be=he.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"查询演出票",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"剧目名称"}},[a("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.form.movieName,callback:function(t){e.$set(e.form,"movieName",t)},expression:"form.movieName"}})],1),a("el-form-item",{attrs:{label:"剧目时长"}},[a("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.form.movieDuration,callback:function(t){e.$set(e.form,"movieDuration",t)},expression:"form.movieDuration"}})],1),a("el-form-item",{attrs:{label:"上映影厅"}},[a("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.form.movieHall,callback:function(t){e.$set(e.form,"movieHall",t)},expression:"form.movieHall"}})],1),a("el-form-item",{attrs:{label:"演出票(存)"}},[a("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.form.ticketList,callback:function(t){e.$set(e.form,"ticketList",t)},expression:"form.ticketList"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("确 定")])],1)],1),a("div",{staticClass:"home1"},[a("div",{staticClass:"top11"},[a("div",{staticClass:"left1"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"0px"}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入你要搜索的电影名称......"},model:{value:e.form.searchName,callback:function(t){e.$set(e.form,"searchName",t)},expression:"form.searchName"}})],1)],1),a("el-row")],1),a("div",{staticClass:"right1"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:e.globalSearch}},[e._v("点击搜索")]),a("el-button",{staticStyle:{float:"left"},on:{click:e.clear}},[e._v("重置剧目")])],1)]),a("div",{staticClass:"bottom1"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"movieName",label:"电影名称",width:"180"}}),a("el-table-column",{attrs:{prop:"movieDate",label:"上映日期"}}),a("el-table-column",{attrs:{prop:"movieClass",label:"电影类型"}}),a("el-table-column",{attrs:{prop:"movieState",label:"电影状态"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleClick(t.row),e.dialogFormVisible2=!0}}},[e._v("查询演出票")])]}}])})],1),[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)])],1)},Ce=[],_e={data:function(){return{_id:"",arr1:"",arr2:"",arr3:"",tableData:[],currentPage:1,pagesize:5,currpage:1,dialogTableVisible:!1,dialogFormVisible:!1,dialogTableVisible2:!1,dialogFormVisible2:!1,form:{movieName:"",movieDate:"------",movieDuration:"",movieHall:"------",movieFrom:"",movieClass:"",movieState:"等待上映",movieMoney:"",state:"1",searchName:"",ticket:""}}},created:function(){var e=this;fe().then((function(t){console.log(t);var a=[];for(var o in t)"正在热映"==t[o].movieState&&a.push(t[o]);e.arr1=a,e.tableData=e.arr1}))},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},addMovie:function(){D()({url:"http://localhost:2020/addMovie",method:"post",data:{movieName:this.form.movieName,movieDate:this.form.movieDate,movieDuration:this.form.movieDuration,movieHall:this.form.movieHall,movieFrom:this.form.movieFrom,movieClass:this.form.movieClass,movieState:this.form.movieState,movieMoney:this.form.movieMoney,state:this.form.state}}).then((function(e){alert(e.data),location.reload()}))},handleClick:function(e){console.log(e.ticketList),this._id=e._id,this.form.movieName=e.movieName,this.form.movieHall=e.movieHall,this.form.movieDuration=e.movieDuration,this.form.ticketList=e.ticketList},globalSearch:function(){var e=this;D()({url:"http://localhost:2020/searchMovie",method:"post",data:{searchName:this.form.searchName}}).then((function(t){e.arr2=t.data,e.tableData=e.arr2}))},clear:function(){this.tableData=this.arr1,this.form.searchName=""}}},ke=_e,ye=(a("8eb2"),Object(s["a"])(ke,ge,Ce,!1,null,null,null)),we=ye.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home1"},[a("div",{staticClass:"top1"},[a("span",[e._v(e._s(e.title))]),a("label",{attrs:{for:""},on:{click:e.tab}},[e._v("切换")])]),a("div",{staticClass:"bottom1"},[a("div",{staticClass:"biaoge",style:{opacity:e.formShow}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"movieName",label:"电影名称",width:"180"}}),a("el-table-column",{attrs:{prop:"movieDate",label:"上映日期"}}),a("el-table-column",{attrs:{prop:"movieClass",label:"电影类型"}}),a("el-table-column",{attrs:{prop:"movieState",label:"电影状态"}}),a("el-table-column",{attrs:{prop:"movieMoney",label:"电影票房(单位：万)",width:"180"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleClick2(t.row)}}},[e._v("删除")])]}}])})],1),[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2),a("div",{staticClass:"picture",style:{opacity:e.pictureShow}},[a("div",{ref:"echarts",staticClass:"simpleDemo"})])])])},Ne=[],De=a("2389"),Fe=a.n(De),xe={data:function(){return{optionData:[],tableData:[],currentPage:1,pagesize:5,currpage:1,title:"影院实时票房统计（表格版）",formShow:1,pictureShow:0,form:{searchName:""},chart:null,option:{backgroundColor:"#45515a",title:{text:"上映电影在总票房中所占的比例",subtext:"饼图示例",left:"center",top:20,textStyle:{color:"#ccc",fontStyle:"italic"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",textStyle:{color:"#c8c8d0"},data:["安心","安盛天平","中华联合保险","中国太平洋保险","中国人保财险","平安车险"]},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},series:[{name:"票房数据",type:"pie",radius:"55%",center:["50%","50%"],data:[],roseType:"radius",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.5,length:10,length2:20}},width:"auto",height:"auto",itemStyle:{normal:{shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(e){return 200*Math.random()}}],color:["#CCFF33","#CCCCFF","#CC99FF","#CC9900","#CC6633","#33CCFF","#CC3300","#9933FF"]}}},created:function(){var e=this;fe().then((function(t){console.log(t);var a=[];for(var o in t)"正在热映"==t[o].movieState&&a.push(t[o]);e.tableData=a,console.log(e.option.series[0].data);var i=[];for(var l in t)if("正在热映"==t[l].movieState){i.push(t[l].movieName);var s={};s.name=t[l].movieName,s.value=parseFloat(t[l].movieMoney),e.optionData.push(s)}console.log(e.optionData),e.option.series[0].data=e.optionData,e.option.legend.data=i,e.getPage()}))},methods:{getPage:function(){this.chart=Fe.a.init(this.$refs.echarts),this.chart.setOption(this.option)},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},tab:function(){"影院实时票房统计（表格版）"==this.title?(this.title="影院实时票房统计（饼图版）",this.formShow=0,this.pictureShow=1):(this.title="影院实时票房统计（表格版）",this.formShow=1,this.pictureShow=0)}}},ze=xe,Ae=(a("5387"),Object(s["a"])(ze,Se,Ne,!1,null,null,null)),He=Ae.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"查看剧目详情",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"剧目名称"}},[a("el-input",{attrs:{autocomplete:"off",disabled:"true"},model:{value:e.form.movieName,callback:function(t){e.$set(e.form,"movieName",t)},expression:"form.movieName"}})],1),a("el-form-item",{attrs:{label:"剧目时长"}},[a("el-input",{attrs:{autocomplete:"off",disabled:"true"},model:{value:e.form.movieDuration,callback:function(t){e.$set(e.form,"movieDuration",t)},expression:"form.movieDuration"}})],1),a("el-form-item",{attrs:{label:"剧目来源"}},[a("el-input",{attrs:{autocomplete:"off",disabled:"true"},model:{value:e.form.movieFrom,callback:function(t){e.$set(e.form,"movieFrom",t)},expression:"form.movieFrom"}})],1),a("el-form-item",{attrs:{label:"电影类型"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择剧目类型",disabled:"true"},model:{value:e.form.movieClass,callback:function(t){e.$set(e.form,"movieClass",t)},expression:"form.movieClass"}},[a("el-option",{attrs:{label:"搞笑/励志",value:"搞笑/励志"}}),a("el-option",{attrs:{label:"动画电影",value:"动画电影"}}),a("el-option",{attrs:{label:"冒险/奇幻",value:"冒险/奇幻"}}),a("el-option",{attrs:{label:"青春/励志",value:"青春/励志"}}),a("el-option",{attrs:{label:"爱情/喜剧",value:"爱情/喜剧"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("确 定")])],1)],1),a("div",{staticClass:"home1"},[a("div",{staticClass:"top11"},[a("div",{staticClass:"left1"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"0px"}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入你要搜索的电影名称......"},model:{value:e.form.searchName,callback:function(t){e.$set(e.form,"searchName",t)},expression:"form.searchName"}})],1)],1),a("el-row")],1),a("div",{staticClass:"right1"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:e.globalSearch}},[e._v("点击搜索")]),a("el-button",{staticStyle:{float:"left"},on:{click:e.clear}},[e._v("重置剧目")])],1)]),a("div",{staticClass:"bottom1"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"ticket_userName",label:"购票用户",width:"120"}}),a("el-table-column",{attrs:{prop:"ticket_movieName",label:"电影名称",width:"200"}}),a("el-table-column",{attrs:{prop:"ticket_movieHall",label:"上映影厅"}}),a("el-table-column",{attrs:{prop:"ticket_table",label:"座位编号"}}),a("el-table-column",{attrs:{prop:"ticket_date",label:"上映日期"}}),a("el-table-column",{attrs:{prop:"ticket_money",label:"票务价格"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleClick(t.row),e.dialogFormVisible2=!0}}},[e._v("查看")])]}}])})],1),[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)])],1)},Pe=[],je={data:function(){return{_id:"",arr1:"",arr2:"",arr3:"",tableData:[],currentPage:1,pagesize:5,currpage:1,dialogTableVisible:!1,dialogFormVisible:!1,dialogTableVisible2:!1,dialogFormVisible2:!1,form:{ticket_userName:"",ticket_movieName:"",ticket_movieHall:"",ticket_table:"",ticket_date:"",ticket_money:""}}},created:function(){var e=this;D()({url:"http://localhost:2020/sellTicket",method:"get"}).then((function(t){console.log(t),e.tableData=t.data}))},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},addMovie:function(){D()({url:"http://localhost:2020/addMovie",method:"post",data:{movieName:this.form.movieName,movieDate:this.form.movieDate,movieDuration:this.form.movieDuration,movieHall:this.form.movieHall,movieFrom:this.form.movieFrom,movieClass:this.form.movieClass,movieState:this.form.movieState,movieMoney:this.form.movieMoney,state:this.form.state}}).then((function(e){alert(e.data),location.reload()}))},handleClick:function(e){console.log(e._id),this._id=e._id,this.form.movieName=e.movieName,this.form.movieDuration=e.movieDuration,this.form.movieFrom=e.movieFrom,this.form.movieClass=e.movieClass},globalSearch:function(){var e=this;D()({url:"http://localhost:2020/searchMovie",method:"post",data:{searchName:this.form.searchName}}).then((function(t){e.arr2=t.data,e.tableData=e.arr2}))},clear:function(){this.tableData=this.arr1,this.form.searchName=""}}},Me=je,Te=(a("2e11"),Object(s["a"])(Me,Ve,Pe,!1,null,null,null)),Ee=Te.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"查看剧目详情",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"剧目名称"}},[a("el-input",{attrs:{autocomplete:"off",disabled:"true"},model:{value:e.form.movieName,callback:function(t){e.$set(e.form,"movieName",t)},expression:"form.movieName"}})],1),a("el-form-item",{attrs:{label:"剧目时长"}},[a("el-input",{attrs:{autocomplete:"off",disabled:"true"},model:{value:e.form.movieDuration,callback:function(t){e.$set(e.form,"movieDuration",t)},expression:"form.movieDuration"}})],1),a("el-form-item",{attrs:{label:"剧目来源"}},[a("el-input",{attrs:{autocomplete:"off",disabled:"true"},model:{value:e.form.movieFrom,callback:function(t){e.$set(e.form,"movieFrom",t)},expression:"form.movieFrom"}})],1),a("el-form-item",{attrs:{label:"电影类型"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择剧目类型",disabled:"true"},model:{value:e.form.movieClass,callback:function(t){e.$set(e.form,"movieClass",t)},expression:"form.movieClass"}},[a("el-option",{attrs:{label:"搞笑/励志",value:"搞笑/励志"}}),a("el-option",{attrs:{label:"动画电影",value:"动画电影"}}),a("el-option",{attrs:{label:"冒险/奇幻",value:"冒险/奇幻"}}),a("el-option",{attrs:{label:"青春/励志",value:"青春/励志"}}),a("el-option",{attrs:{label:"爱情/喜剧",value:"爱情/喜剧"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("确 定")])],1)],1),a("div",{staticClass:"home1"},[a("div",{staticClass:"top11"},[a("div",{staticClass:"left1"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"0px"}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入你要搜索的电影名称......"},model:{value:e.form.searchName,callback:function(t){e.$set(e.form,"searchName",t)},expression:"form.searchName"}})],1)],1),a("el-row")],1),a("div",{staticClass:"right1"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:e.globalSearch}},[e._v("点击搜索")]),a("el-button",{staticStyle:{float:"left"},on:{click:e.clear}},[e._v("重置剧目")])],1)]),a("div",{staticClass:"bottom1"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"reticket_userName",label:"购票用户",width:"120"}}),a("el-table-column",{attrs:{prop:"reticket_movieName",label:"电影名称",width:"200"}}),a("el-table-column",{attrs:{prop:"reticket_movieHall",label:"上映影厅"}}),a("el-table-column",{attrs:{prop:"reticket_table",label:"座位编号"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleClick(t.row),e.dialogFormVisible2=!0}}},[e._v("查看")])]}}])})],1),[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)])],1)},Oe=[],Le={data:function(){return{_id:"",arr1:"",arr2:"",arr3:"",tableData:[],currentPage:1,pagesize:5,currpage:1,dialogTableVisible:!1,dialogFormVisible:!1,dialogTableVisible2:!1,dialogFormVisible2:!1,form:{reticket_userName:"",reticket_movieName:"",reticket_movieHall:"",reticket_table:""}}},created:function(){var e=this;D()({url:"http://localhost:2020/outTicket",method:"get"}).then((function(t){console.log(t),e.tableData=t.data}))},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},addMovie:function(){D()({url:"http://localhost:2020/addMovie",method:"post",data:{movieName:this.form.movieName,movieDate:this.form.movieDate,movieDuration:this.form.movieDuration,movieHall:this.form.movieHall,movieFrom:this.form.movieFrom,movieClass:this.form.movieClass,movieState:this.form.movieState,movieMoney:this.form.movieMoney,state:this.form.state}}).then((function(e){alert(e.data),location.reload()}))},handleClick:function(e){console.log(e._id),this._id=e._id,this.form.movieName=e.movieName,this.form.movieDuration=e.movieDuration,this.form.movieFrom=e.movieFrom,this.form.movieClass=e.movieClass},globalSearch:function(){var e=this;D()({url:"http://localhost:2020/searchMovie",method:"post",data:{searchName:this.form.searchName}}).then((function(t){e.arr2=t.data,e.tableData=e.arr2}))},clear:function(){this.tableData=this.arr1,this.form.searchName=""}}},Be=Le,We=(a("f605"),Object(s["a"])(Be,$e,Oe,!1,null,null,null)),Je=We.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-box"},[a("div",{staticClass:"header"},[e._m(0),a("div",{staticClass:"user"},[e._v(" "+e._s(e.id)+":"+e._s(e.name)+" "),a("a",{attrs:{id:"exit"},on:{click:e.exit}},[e._v("退出系统")])])]),a("div",{staticClass:"left"},[a("el-row",{staticClass:"tac",staticStyle:{height:"100%"}},[a("el-col",{attrs:{span:20}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#EFF1F6","text-color":"black","active-text-color":"#409EFF"},on:{open:e.handleOpen,close:e.handleClose}},[a("router-link",{attrs:{to:"/ticket/performance"}},[a("el-menu-item",{attrs:{index:"1"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("查询演出表")])])],1),a("router-link",{attrs:{to:"/ticket/search"}},[a("el-menu-item",{attrs:{index:"2"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("查询演出票")])])],1),a("router-link",{attrs:{to:"/ticket/sale"}},[a("el-menu-item",{attrs:{index:"3"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("统计销售额")])])],1),a("router-link",{attrs:{to:"/ticket/sellTicket"}},[a("el-menu-item",{attrs:{index:"4"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("售票统计表")])])],1),a("router-link",{attrs:{to:"/ticket/outTicket"}},[a("el-menu-item",{attrs:{index:"5"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("退票统计表")])])],1)],1)],1)],1)],1),a("div",{staticClass:"right"},[a("router-view")],1)])},Ie=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",[a("em",[e._v("TTMS")])]),e._v(" -影院后台管理系统 ")])}],Ue={methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},exit:function(){this.$router.push({path:"/login"})},isLogin:function(){this.$store.commit("userStatus",sessionStorage.getItem("userInfo"))}},created:function(){this.isLogin(),console.log(JSON.parse(this.$store.state.currentUser)),this.id=JSON.parse(this.$store.state.currentUser).identify,this.name=JSON.parse(this.$store.state.currentUser).username}},qe=Ue,Ge=(a("4f7f"),Object(s["a"])(qe,Qe,Ie,!1,null,null,null)),Ye=Ge.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-box"},[a("div",{staticClass:"header"},[e._m(0),a("div",{staticClass:"user"},[e._v(e._s(e.id)+":"+e._s(e.name)+" "),a("a",{attrs:{id:"exit"},on:{click:e.exit}},[e._v("退出系统")])])]),a("div",{staticClass:"left"},[a("el-row",{staticClass:"tac",staticStyle:{height:"100%"}},[a("el-col",{attrs:{span:20}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#EFF1F6","text-color":"black","active-text-color":"#409EFF"},on:{open:e.handleOpen,close:e.handleClose}},[a("router-link",{attrs:{to:"/manager/movie-manager"}},[a("el-menu-item",{attrs:{index:"1"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("管理剧目 ")])])],1),a("router-link",{attrs:{to:"/manager/promance-plan"}},[a("el-menu-item",{attrs:{index:"2"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("安排演出")])])],1),a("router-link",{attrs:{to:"/manager/saleData"}},[a("el-menu-item",{attrs:{index:"3"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("销售数据")])])],1)],1)],1)],1)],1),a("div",{staticClass:"right"},[a("router-view")],1)])},Re=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",[a("em",[e._v("TTMS ")])]),e._v(" -影院后台管理系统")])}],Xe={data:function(){return{name:"",id:""}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},exit:function(){this.$router.push({path:"/login"})},isLogin:function(){this.$store.commit("userStatus",sessionStorage.getItem("userInfo"))}},created:function(){this.isLogin(),console.log(JSON.parse(this.$store.state.currentUser)),this.id=JSON.parse(this.$store.state.currentUser).identify,this.name=JSON.parse(this.$store.state.currentUser).username}},Ze=Xe,et=(a("4af6"),Object(s["a"])(Ze,Ke,Re,!1,null,null,null)),tt=et.exports,at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"添加剧目",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"剧目名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieName,callback:function(t){e.$set(e.form,"movieName",t)},expression:"form.movieName"}})],1),a("el-form-item",{attrs:{label:"剧目时长"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieDuration,callback:function(t){e.$set(e.form,"movieDuration",t)},expression:"form.movieDuration"}})],1),a("el-form-item",{attrs:{label:"剧目来源"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieFrom,callback:function(t){e.$set(e.form,"movieFrom",t)},expression:"form.movieFrom"}})],1),a("el-form-item",{attrs:{label:"电影类型"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择剧目类型"},model:{value:e.form.movieClass,callback:function(t){e.$set(e.form,"movieClass",t)},expression:"form.movieClass"}},[a("el-option",{attrs:{label:"搞笑/励志",value:"搞笑/励志"}}),a("el-option",{attrs:{label:"动画电影",value:"动画电影"}}),a("el-option",{attrs:{label:"冒险/奇幻",value:"冒险/奇幻"}}),a("el-option",{attrs:{label:"青春/励志",value:"青春/励志"}}),a("el-option",{attrs:{label:"爱情/喜剧",value:"爱情/喜剧"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1,e.addMovie()}}},[e._v("确 定")])],1)],1),a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"编辑剧目",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"剧目名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieName,callback:function(t){e.$set(e.form,"movieName",t)},expression:"form.movieName"}})],1),a("el-form-item",{attrs:{label:"剧目时长"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieDuration,callback:function(t){e.$set(e.form,"movieDuration",t)},expression:"form.movieDuration"}})],1),a("el-form-item",{attrs:{label:"剧目来源"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieFrom,callback:function(t){e.$set(e.form,"movieFrom",t)},expression:"form.movieFrom"}})],1),a("el-form-item",{attrs:{label:"电影类型"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择剧目类型"},model:{value:e.form.movieClass,callback:function(t){e.$set(e.form,"movieClass",t)},expression:"form.movieClass"}},[a("el-option",{attrs:{label:"搞笑/励志",value:"搞笑/励志"}}),a("el-option",{attrs:{label:"动画电影",value:"动画电影"}}),a("el-option",{attrs:{label:"冒险/奇幻",value:"冒险/奇幻"}}),a("el-option",{attrs:{label:"青春/励志",value:"青春/励志"}}),a("el-option",{attrs:{label:"爱情/喜剧",value:"爱情/喜剧"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible2=!1,e.changeMovie()}}},[e._v("确 定")])],1)],1),a("div",{staticClass:"home1"},[a("div",{staticClass:"top11"},[a("div",{staticClass:"left1"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"0px"}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入你要搜索的电影名称......"},model:{value:e.form.searchName,callback:function(t){e.$set(e.form,"searchName",t)},expression:"form.searchName"}})],1)],1),a("el-row")],1),a("div",{staticClass:"right1"},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:e.globalSearch}},[e._v("点击搜索")]),a("el-button",{staticStyle:{float:"left"},on:{click:e.clear}},[e._v("重置剧目")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"success"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加剧目")])],1)]),a("div",{staticClass:"bottom1"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"movieName",label:"电影名称",width:"180"}}),a("el-table-column",{attrs:{prop:"movieDuration",label:"电影时长",width:"180"}}),a("el-table-column",{attrs:{prop:"movieFrom",label:"电影来源"}}),a("el-table-column",{attrs:{prop:"movieClass",label:"电影类型"}}),a("el-table-column",{attrs:{prop:"movieState",label:"电影状态"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleClick(t.row),e.dialogFormVisible2=!0}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleClick2(t.row)}}},[e._v("删除")])]}}])})],1),[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)])],1)],1)},ot=[],it={data:function(){return{_id:"",arr1:"",arr2:"",arr3:"",tableData:[],currentPage:1,pagesize:5,currpage:1,dialogTableVisible:!1,dialogFormVisible:!1,dialogTableVisible2:!1,dialogFormVisible2:!1,form:{movieName:"",movieDate:"------",movieDuration:"",movieHall:"------",movieFrom:"",movieClass:"",movieState:"等待上映",movieMoney:"",state:"1",searchName:""}}},created:function(){var e=this;fe().then((function(t){e.arr1=t,e.tableData=e.arr1}))},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},addMovie:function(){D()({url:"http://localhost:2020/addMovie",method:"post",data:{movieName:this.form.movieName,movieDate:this.form.movieDate,movieDuration:this.form.movieDuration,movieHall:this.form.movieHall,movieFrom:this.form.movieFrom,movieClass:this.form.movieClass,movieState:this.form.movieState,movieMoney:this.form.movieMoney,state:this.form.state}}).then((function(e){alert(e.data),location.reload()}))},handleClick:function(e){console.log(e._id),this._id=e._id,this.form.movieName=e.movieName,this.form.movieDuration=e.movieDuration,this.form.movieFrom=e.movieFrom,this.form.movieClass=e.movieClass},changeMovie:function(){D()({url:"http://localhost:2020/updateMovie",method:"post",data:{id:this._id,movieName:this.form.movieName,movieDate:this.form.movieDate,movieDuration:this.form.movieDuration,movieHall:this.form.movieHall,movieFrom:this.form.movieFrom,movieClass:this.form.movieClass,movieState:this.form.movieState,movieMoney:this.form.movieMoney,state:this.form.state}}).then((function(e){console.log(e),alert(e.data),location.reload()}))},handleClick2:function(e){console.log(e._id),D()({url:"http://localhost:2020/deleteMovie",method:"post",data:{id:e._id}}).then((function(e){console.log(e),alert(e.data),location.reload()}))},globalSearch:function(){var e=this;D()({url:"http://localhost:2020/searchMovie",method:"post",data:{searchName:this.form.searchName}}).then((function(t){e.arr2=t.data,e.tableData=e.arr2}))},clear:function(){this.tableData=this.arr1,this.form.searchName=""}}},lt=it,st=(a("e760"),Object(s["a"])(lt,at,ot,!1,null,null,null)),rt=st.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tablehome"},[a("el-dialog",{attrs:{title:"剧目上映计划",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"剧目名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieName,callback:function(t){e.$set(e.form,"movieName",t)},expression:"form.movieName"}})],1),a("el-form-item",{attrs:{label:"上映日期"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieDate,callback:function(t){e.$set(e.form,"movieDate",t)},expression:"form.movieDate"}})],1),a("el-form-item",{attrs:{label:"电影状态"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择电影状态"},model:{value:e.form.movieState,callback:function(t){e.$set(e.form,"movieState",t)},expression:"form.movieState"}},[a("el-option",{attrs:{label:"正在热映",value:"正在热映"}})],1)],1),a("el-form-item",{attrs:{label:"上映影厅"}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择剧目类型"},model:{value:e.form.movieHall,callback:function(t){e.$set(e.form,"movieHall",t)},expression:"form.movieHall"}},e._l(e.movieHallList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.movieHallName,value:e.movieHallName}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1,e.addMovie()}}},[e._v("确认上映")])],1)],1),a("div",{staticClass:"home1"},[a("div",{staticClass:"top1"},[e._v("影院演出安排")]),a("div",{staticClass:"bottom1"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"movieName",label:"电影名称",width:"180"}}),a("el-table-column",{attrs:{prop:"movieHall",label:"上映影厅",width:"180"}}),a("el-table-column",{attrs:{prop:"movieDate",label:"上映日期"}}),a("el-table-column",{attrs:{prop:"movieClass",label:"电影类型"}}),a("el-table-column",{attrs:{prop:"movieState",label:"电影状态"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success",disabled:"等待上映"!=t.row.movieState},on:{click:function(a){e.handleClick2(t.row),e.dialogFormVisible=!0}}},[e._v("上映")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleClick(t.row),e.dialogFormVisible2=!0}}},[e._v("下架")])]}}])})],1),[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2)])],1)},ct=[],mt={data:function(){return{tableData:[],currentPage:1,pagesize:5,currpage:1,movieHallList:[],dialogTableVisible:!1,dialogFormVisible:!1,dialogTableVisible2:!1,dialogFormVisible2:!1,form:{searchName:"",movieName:"",movieDate:"",movieDuration:"",movieHall:"",movieFrom:"",movieClass:"",movieState:"正在热映",movieMoney:"",state:"1"}}},created:function(){var e=this;fe().then((function(t){e.tableData=t})),L().then((function(t){var a=[];for(var o in t)"等待营业"==t[o].movieHallStates&&a.push(t[o]);e.movieHallList=a}))},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},handleClick2:function(e){console.log(e._id),this._id=e._id,this.form.movieName=e.movieName,this.form.movieDate=e.movieDate,this.form.movieState=e.movieState,this.form.movieHall=e.movieHall,this.form.movieDuration=e.movieDuration,this.form.movieFrom=e.movieFrom,this.form.movieClass=e.movieClass,this.form.movieMoney=e.movieMoney,this.form.state=e.state},handleClick:function(e){D()({url:"http://localhost:2020/outplayMovie",method:"post",data:{movieName:e.movieName,movieHall:e.movieHall}}).then((function(e){alert("剧目下架成功！"),location.reload()}))},addMovie:function(){D()({url:"http://localhost:2020/playMovie",method:"post",data:{id:this._id,movieName:this.form.movieName,movieDate:this.form.movieDate,movieDuration:this.form.movieDuration,movieHall:this.form.movieHall,movieFrom:this.form.movieFrom,movieClass:this.form.movieClass,movieState:this.form.movieState,movieMoney:this.form.movieMoney,state:this.form.state}}).then((function(e){alert("剧目上映成功！"),location.reload()}))}}},ut=mt,ft=(a("5fd9"),Object(s["a"])(ut,nt,ct,!1,null,null,null)),dt=ft.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home1"},[a("div",{staticClass:"top1"},[a("span",[e._v(e._s(e.title))]),a("label",{attrs:{for:""},on:{click:e.tab}},[e._v("切换")])]),a("div",{staticClass:"bottom1"},[a("div",{staticClass:"biaoge",style:{opacity:e.formShow}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),stripe:""}},[a("el-table-column",{attrs:{prop:"movieName",label:"电影名称",width:"180"}}),a("el-table-column",{attrs:{prop:"movieDate",label:"上映日期"}}),a("el-table-column",{attrs:{prop:"movieClass",label:"电影类型"}}),a("el-table-column",{attrs:{prop:"movieState",label:"电影状态"}}),a("el-table-column",{attrs:{prop:"movieMoney",label:"电影票房(单位：万)",width:"180"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleClick2(t.row)}}},[e._v("删除")])]}}])})],1),[a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[2,3,4,5],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2),a("div",{staticClass:"picture",style:{opacity:e.pictureShow}},[a("div",{ref:"echarts",staticClass:"simpleDemo"})])])])},pt=[],ht={data:function(){return{optionData:[],tableData:[],currentPage:1,pagesize:5,currpage:1,title:"表格版票房数据",formShow:1,pictureShow:0,form:{searchName:""},chart:null,option:{backgroundColor:"#45515a",title:{text:"上映电影在总票房中所占的比例",subtext:"饼图示例",left:"center",top:20,textStyle:{color:"#ccc",fontStyle:"italic"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",textStyle:{color:"#c8c8d0"},data:["安心","安盛天平","中华联合保险","中国太平洋保险","中国人保财险","平安车险"]},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},series:[{name:"票房数据",type:"pie",radius:"55%",center:["50%","50%"],data:[],roseType:"radius",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.5,length:10,length2:20}},width:"auto",height:"auto",itemStyle:{normal:{shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(e){return 200*Math.random()}}],color:["#CCFF33","#CCCCFF","#CC99FF","#CC9900","#CC6633","#33CCFF","#CC3300","#9933FF"]}}},created:function(){var e=this;fe().then((function(t){console.log(t);var a=[];for(var o in t)"已上映"==t[o].movieState&&a.push(t[o]);e.tableData=a,console.log(e.option.series[0].data);var i=[];for(var l in t)if("已上映"==t[l].movieState){i.push(t[l].movieName);var s={};s.name=t[l].movieName,s.value=parseFloat(t[l].movieMoney),e.optionData.push(s)}console.log(e.optionData),e.option.series[0].data=e.optionData,e.option.legend.data=i,e.getPage()}))},methods:{getPage:function(){this.chart=Fe.a.init(this.$refs.echarts),this.chart.setOption(this.option)},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},tab:function(){"表格版票房数据"==this.title?(this.title="图示版票房数据",this.formShow=0,this.pictureShow=1):(this.title="表格版票房数据",this.formShow=1,this.pictureShow=0)}}},bt=ht,gt=(a("51e2"),Object(s["a"])(bt,vt,pt,!1,null,null,null)),Ct=gt.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"use-lbt"},[a("div",{staticClass:"use_header"},[e._m(0),a("div",{staticClass:"use_center"}),a("div",{staticClass:"use_right"},[a("div",{staticClass:"item active",on:{click:e.jump_01}},[e._v("影院首页")]),a("div",{staticClass:"item",on:{click:e.jump_02}},[e._v("影院排片表")]),a("div",{staticClass:"item",on:{click:e.jump_03}},[e._v("影院介绍")]),a("div",{staticClass:"item",on:{click:e.jump_04}},[e._v("个人中心")])])]),e._m(1),a("vue-particles",{staticClass:"lizi",attrs:{color:"#fff",particleOpacity:.7,particlesNumber:60,shapeType:"circle",particleSize:4,linesColor:"#fff",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:2,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}})],1)])},kt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"use_left"},[a("span",[a("em",[e._v("TTMS")])]),e._v(" Attentively write bug theater ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text"},[a("div",{staticClass:"animate__animated animate__bounceInDown"},[a("p",[a("label",[e._v("Welcome to")])]),e._v(" Attentively write bug theater！ ")])])}],yt={methods:{jump_01:function(){this.$router.push({path:"/users"})},jump_02:function(){this.$router.push({path:"/movieplan"})},jump_03:function(){this.$router.push({path:"/introduction"})},jump_04:function(){this.$router.push({path:"/profile"})}}},wt=yt,St=(a("5f76"),Object(s["a"])(wt,_t,kt,!1,null,null,null)),Nt=St.exports,Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"use-lbt"},[a("div",{staticClass:"use_header"},[e._m(0),a("div",{staticClass:"use_center"}),a("div",{staticClass:"use_right"},[a("div",{staticClass:"item",on:{click:e.jump_01}},[e._v("影院首页")]),a("div",{staticClass:"item",on:{click:e.jump_02}},[e._v("影院排片表")]),a("div",{staticClass:"item  active",on:{click:e.jump_03}},[e._v("影院介绍")]),a("div",{staticClass:"item",on:{click:e.jump_04}},[e._v("个人中心")])])]),e._m(1),e._m(2),a("vue-particles",{staticClass:"lizi",attrs:{color:"#fff",particleOpacity:.7,particlesNumber:60,shapeType:"circle",particleSize:4,linesColor:"#fff",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:2,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}})],1)])},Ft=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"use_left"},[a("span",[a("em",[e._v("TTMS")])]),e._v(" Attentively write bug theater ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animate__animated animate__flip"},[a("div",{staticClass:"user-left"},[a("div",{staticClass:"use-top"},[a("p",[e._v("影院历史")]),a("label",{attrs:{for:""}},[e._v("Cinema history")])]),a("div",{staticClass:"use-bottom"},[e._v(" 影院成立于2020/05/20号，成立人由四人组成，影院名称（用心写bug）,因为影院创始人为四个计算机院学生， 他们经常白天写bug，晚上改bug，故得此名。 ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animate__animated animate__flip"},[a("div",{staticClass:"user-right"},[a("div",{staticClass:"use-top"},[a("p",[e._v("影院现状")]),a("label",{attrs:{for:""}},[e._v("Cinema status")])]),a("div",{staticClass:"use-bottom"},[e._v(" 影院现有4个影厅，春暖花开影厅，夏日炎炎影厅，秋高气爽影厅，冬日温情影厅，象征着一年的 四季，每个影厅由25个座位，可同时供100位人士提供观影服务。 ")])])])}],xt={methods:{jump_01:function(){this.$router.push({path:"/users"})},jump_02:function(){this.$router.push({path:"/movieplan"})},jump_03:function(){this.$router.push({path:"/introduction"})},jump_04:function(){this.$router.push({path:"/profile"})}}},zt=xt,At=(a("aed1"),Object(s["a"])(zt,Dt,Ft,!1,null,null,null)),Ht=At.exports,Vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"use-lbt"},[a("div",{staticClass:"use_header"},[e._m(0),a("div",{staticClass:"use_center"}),a("div",{staticClass:"use_right"},[a("div",{staticClass:"item",on:{click:e.jump_01}},[e._v("影院首页")]),a("div",{staticClass:"item  active",on:{click:e.jump_02}},[e._v("影院排片表")]),a("div",{staticClass:"item",on:{click:e.jump_03}},[e._v("影院介绍")]),a("div",{staticClass:"item",on:{click:e.jump_04}},[e._v("个人中心")])])]),a("div",{staticClass:"table_one"},[a("div",{staticClass:"user-left1"},[a("div",{staticClass:"movie-top"},[e._v("影院排片表")]),a("div",{staticClass:"movie-bottom"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize)}},[a("el-table-column",{attrs:{label:"剧目名称",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.movieName))])]}}])}),a("el-table-column",{attrs:{label:"存票",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.ticketList))])],1)]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("抢票")])]}}])})],1)],1)])]),a("vue-particles",{staticClass:"lizi",attrs:{color:"#fff",particleOpacity:.7,particlesNumber:60,shapeType:"circle",particleSize:4,linesColor:"#fff",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:2,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}})],1)])},Pt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"use_left"},[a("span",[a("em",[e._v("TTMS")])]),e._v(" Attentively write bug theater ")])}],jt={data:function(){return{tableData:[],currentPage:1,pagesize:5,currpage:1,lbtarr:[]}},methods:{jump_01:function(){this.$router.push({path:"/users"})},jump_02:function(){this.$router.push({path:"/movieplan"})},jump_03:function(){this.$router.push({path:"/introduction"})},jump_04:function(){this.$router.push({path:"/profile"})},handleClick:function(e){this.$router.push({name:"Detail",query:e})}},created:function(){var e=this;fe().then((function(t){var a=t;de().then((function(t){for(var o=[],i=0;i<t.length;i++)for(var l=0;l<a.length;l++)t[i].movieName==a[l].movieName&&o.push(Object.assign({},t[i],a[l]));var s=[];for(var r in o)"正在热映"==o[r].movieState&&s.push(o[r]);e.arr1=s,e.tableData=e.arr1}))}))}},Mt=jt,Tt=(a("4749"),Object(s["a"])(Mt,Vt,Pt,!1,null,null,null)),Et=Tt.exports,$t=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"tablehome"},[o("el-dialog",{attrs:{title:"确认票务信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"剧目名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieName,callback:function(t){e.$set(e.form,"movieName",t)},expression:"form.movieName"}})],1),o("el-form-item",{attrs:{label:"上映影厅","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieHall,callback:function(t){e.$set(e.form,"movieHall",t)},expression:"form.movieHall"}})],1),o("el-form-item",{attrs:{label:"座位编号","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.tableNumber_rel,callback:function(t){e.$set(e.form,"tableNumber_rel",t)},expression:"form.tableNumber_rel"}})],1),o("el-form-item",{attrs:{label:"价格(万)","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.movieMoney,callback:function(t){e.$set(e.form,"movieMoney",t)},expression:"form.movieMoney"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("返回修改")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1,e.addTicket()}}},[e._v("确认抢票")])],1)],1),o("div",{staticClass:"use-lbt"},[e._m(0),o("div",{directives:[{name:"show",rawName:"v-show",value:e.show_01,expression:"show_01"}],staticClass:"ticket_show"},[o("div",{staticClass:"ticket_img"},[o("img",{attrs:{src:e.obj.movieImg,alt:""}})]),o("div",{staticClass:"ticket_duce"},[o("p",[e._v("影片介绍："+e._s(e.obj.movieDuce))]),o("p",[e._v("影片时长： "+e._s(e.obj.movieDuration))]),o("p",[e._v("影片来源："+e._s(e.obj.movieFrom))])]),o("div",{staticClass:"btn"},[o("el-button",{on:{click:function(t){return e.showChange()}}},[e._v("点击选座")]),o("el-button",{on:{click:function(t){return e.jump()}}},[e._v("退出抢票")])],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:e.show_02,expression:"show_02"}],staticClass:"ticket_show2"},[o("div",{staticClass:"movieHall"},[e._v(e._s(e.obj.movieHall)+"座位分布图")]),o("div",{staticClass:"table-show"},[e._l(e.movieHallTableList,(function(t){return o("div",{key:t.id,staticClass:"table-a",on:{click:function(a){return e.handleClick(t)}}},[o("img",{directives:[{name:"show",rawName:"v-show",value:"ready"==t.tableState,expression:"item.tableState == 'ready'"}],attrs:{src:a("d977"),alt:""}}),o("img",{directives:[{name:"show",rawName:"v-show",value:"select"==t.tableState,expression:"item.tableState == 'select'"}],attrs:{src:a("0ca1"),alt:""}}),o("img",{directives:[{name:"show",rawName:"v-show",value:"selected"==t.tableState,expression:"item.tableState == 'selected'"}],attrs:{src:a("b9af"),alt:""}})])})),o("div",{staticClass:"tabledetail"},[o("p",[e._v("座位信息："+e._s(e.tableNumber01))]),o("p",[e._v("座位状态："+e._s(e.tableState01))]),o("p",[e._v("座位所属影厅："+e._s(e.tableHall01))]),o("div",{staticClass:"table-btn"},[o("el-button",{attrs:{disabled:e.selected},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("进入抢票")]),o("el-button",{on:{click:function(t){return e.showChange()}}},[e._v("退出选座")])],1)])],2)]),o("vue-particles",{staticClass:"lizi",attrs:{color:"#fff",particleOpacity:.7,particlesNumber:60,shapeType:"circle",particleSize:4,linesColor:"#fff",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:2,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}})],1)],1)])},Ot=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"use_header"},[a("div",{staticClass:"use_left"},[a("span",[a("em",[e._v("TTMS")])]),e._v(" Attentively write bug theater ")]),a("div",{staticClass:"use_center"}),a("div",{staticClass:"use_right"})])}],Lt={data:function(){return{obj:{},movieHallTableList:[],tableNumber01:"",tableState01:"",tableHall01:"",show_01:!0,show_02:!1,ticketList:null,imgSrc:"../../assets/0.png",dialogTableVisible:!1,dialogFormVisible:!1,movieMoneyAll:"",selected:"",form:{movieName:"",movieHall:"",movieMoney:10,tableNumber_rel:"",movieClass:"",movieDate:"",delivery:!1},formLabelWidth:"120px"}},methods:{jump:function(){this.$router.push({path:"/movieplan"})},handleClick:function(e){console.log("座位信息"),console.log(e),this.form.tableNumber_rel=e.tableNumber,this.tableNumber01=e.tableNumber,this.tableHall01=e.tableHallName,"ready"==e.tableState?(this.tableState01="等待入座",this.selected=!1,D()({url:"http://localhost:2020/ticket_select",method:"POST",data:{tableNumber_rel:e.tableNumber,tableHallName:e.tableHallName}})):"select"==e.tableState?(this.tableState01="座位正在选择中,可抢",this.selected=!1):(this.tableState01="已被选择",this.selected="disabled")},showChange:function(){this.show_01=!this.show_01,this.show_02=!this.show_02},addTicket:function(){var e=this;D()({url:"http://localhost:2020/ticket_buy",method:"POST",data:{username:JSON.parse(this.$store.state.currentUser).username,movieHall:this.form.movieHall,movieName:this.form.movieName,movieMoney:this.form.movieMoney,tableNumber_rel:this.form.tableNumber_rel,movieDate:this.form.movieDate,movieClass:this.form.movieClass,ticketList:this.ticketList,movieMoneyAll:this.movieMoneyAll}}).then((function(t){console.log(t),alert("恭喜你，购票成功，可前往个人中心查看票务详情！"),e.$router.push({path:"/movieplan"})}))}},created:function(){var e=this,t=this.$route.query;this.obj=t,console.log("剧目信息"),console.log(t),this.form.movieName=t.movieName,this.form.movieHall=t.movieHall,this.form.movieMoney=10,this.form.movieClass=t.movieClass,this.form.movieDate=t.movieDate,this.ticketList=t.ticketList,this.movieMoneyAll=t.movieMoney,D()({url:"http://localhost:2020/movieDetail",method:"POST",data:{movieHallName:t.movieHall}}).then((function(t){var a=[];for(var o in t.data)a.push(Object.assign(t.data[o],{imgSrc:"../../assets/0.png"}));console.log(a),e.movieHallTableList=a}))}},Bt=Lt,Wt=(a("3f23"),Object(s["a"])(Bt,$t,Ot,!1,null,null,null)),Jt=Wt.exports,Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"use-lbt"},[a("div",{staticClass:"use_header"},[e._m(0),a("div",{staticClass:"use_center"}),a("div",{staticClass:"use_right"},[a("div",{staticClass:"item",on:{click:e.jump_01}},[e._v("影院首页")]),a("div",{staticClass:"item",on:{click:e.jump_02}},[e._v("影院排片表")]),a("div",{staticClass:"item",on:{click:e.jump_03}},[e._v("影院介绍")]),a("div",{staticClass:"item active",on:{click:e.jump_04}},[e._v("个人中心")])])]),a("div",{staticClass:"profile"},[a("div",{staticClass:"profile-left"},[e._m(1),a("div",{staticClass:"profile-text"},[e._v(e._s(e.id)+":"+e._s(e.name))])]),a("div",{staticClass:"profile-right"},[a("div",{staticClass:"profile-title"},[e._v(e._s(e.name)+" 的购票信息(My ticket information)")]),a("div",{staticClass:"profile-ticket"},[a("el-carousel",{attrs:{autoplay:!1,"indicator-position":"none"}},e._l(e.ticket,(function(t){return a("el-carousel-item",{key:t.id},[a("div",{staticClass:"cardWrap"},[a("div",{staticClass:"card cardLeft"},[a("h1",[e._v(" Write bugs carefully "),a("span",[e._v("Cinema")])]),a("div",{staticClass:"title"},[a("h2",[e._v("What movie will you see")]),a("span",[e._v("movieName:"+e._s(t.ticket_movieName))])]),a("div",{staticClass:"name"},[a("h2",[e._v("Which movie hall ?")]),a("span",[e._v(e._s(t.ticket_movieHall))])]),a("div",{staticClass:"seat"},[a("h2",[e._v(e._s(t.ticket_table))]),a("span",[e._v("seatNumber")])]),a("div",{staticClass:"time"},[a("h2",[e._v(e._s(t.ticket_date))]),a("span",[e._v("Date")])])]),a("div",{staticClass:"card cardRight"},[a("div",{staticClass:"eye"}),a("div",{staticClass:"barcode"}),a("div",{staticClass:"number",on:{click:function(a){return e.returnTicket(t)}}},[a("label",{attrs:{for:""}},[e._v("退票处理")])])])])])})),1)],1)])]),a("vue-particles",{staticClass:"lizi",attrs:{color:"#fff",particleOpacity:.7,particlesNumber:60,shapeType:"circle",particleSize:4,linesColor:"#fff",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:2,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}})],1)])},It=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"use_left"},[a("span",[a("em",[e._v("TTMS")])]),e._v(" Attentively write bug theater ")])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"profile-top"},[o("img",{attrs:{src:a("18d5"),alt:""}})])}],Ut={data:function(){return{ticket:[]}},methods:{jump_01:function(){this.$router.push({path:"/users"})},jump_02:function(){this.$router.push({path:"/movieplan"})},jump_03:function(){this.$router.push({path:"/introduction"})},jump_04:function(){this.$router.push({path:"/profile"})},isLogin:function(){this.$store.commit("userStatus",sessionStorage.getItem("userInfo"))},returnTicket:function(e){console.log(e),D()({url:"http://localhost:2020/returnTicket",method:"POST",data:{ticket_movieHall:e.ticket_movieHall,ticket_movieName:e.ticket_movieName,ticket_table:e.ticket_table,ticket_userName:e.ticket_userName,id:e._id}}).then((function(e){alert("退票成功"),location.reload()}))}},created:function(){var e=this;this.isLogin(),console.log(JSON.parse(this.$store.state.currentUser)),this.id=JSON.parse(this.$store.state.currentUser).identify,this.name=JSON.parse(this.$store.state.currentUser).username,D()({url:"http://localhost:2020/userTicket",method:"post",data:{username:this.name}}).then((function(t){console.log(t),e.ticket=t.data}))}},qt=Ut,Gt=(a("55ed"),Object(s["a"])(qt,Qt,It,!1,null,"3d6d2f1a",null)),Yt=Gt.exports;o["default"].use(m["a"]);var Kt=[{path:"/",name:"Home",component:y},{path:"/login",name:"Login",component:A},{path:"/admin",name:"Admin",component:T,redirect:"/admin/movies-home",children:[{path:"movies-home",component:Q,name:"影厅管理"},{path:"user-manager",component:R,name:"用户管理"},{path:"movieHallDetail",component:ce,name:"影厅详情"}]},{path:"/ticket",name:"Ticket",component:Ye,redirect:"/ticket/performance",children:[{path:"performance",component:be,name:"查询演出表"},{path:"search",component:we,name:"查询演出票"},{path:"sale",component:He,name:"统计销售额"},{path:"sellTicket",component:Ee,name:"售票统计"},{path:"outTicket",component:Je,name:"退票统计"}]},{path:"/manager",name:"Manager",component:tt,redirect:"/manager/movie-manager",children:[{path:"movie-manager",component:rt,name:"管理剧目"},{path:"promance-plan",component:dt,name:"安排演出"},{path:"saleData",component:Ct,name:"销售数据"}]},{path:"/users",name:"Users",component:Nt},{path:"/introduction",name:"Introduction",component:Ht},{path:"/movieplan",name:"Movieplan",component:Et},{path:"/profile",name:"Profile",component:Yt},{path:"/ticketDetail",name:"Detail",component:Jt}],Rt=new m["a"]({base:"",routes:Kt}),Xt=Rt,Zt=a("ae8c");o["default"].use(Zt["a"]);var ea=new Zt["a"].Store({state:{currentUser:null,isLogin:!1},mutations:{userStatus:function(e,t){t?(console.log("mutations"),console.log(e.currentUser),console.log(t),e.currentUser=t,console.log(e.currentUser),e.isLogin=!0):(t=null)&&(sessionStorage.setItem("userInfo",null),e.currentUser=null,e.isLogin=!1)}},actions:{setUser:function(e,t){e.commit("userStatus",t)}}}),ta=a("5c96"),aa=a.n(ta),oa=(a("0fae"),a("be52")),ia=a("31ae"),la=a.n(ia);o["default"].use(oa["a"]),o["default"].use(la.a),o["default"].use(aa.a),o["default"].config.productionTip=!1,new o["default"]({router:Xt,store:ea,render:function(e){return e(c)}}).$mount("#app")},"57c5":function(e,t,a){},"5dae":function(e,t,a){},"5f76":function(e,t,a){"use strict";var o=a("821a"),i=a.n(o);i.a},"5fd9":function(e,t,a){"use strict";var o=a("9f50"),i=a.n(o);i.a},"6ad4":function(e,t,a){},"73ce":function(e,t,a){},"76f6":function(e,t,a){},"7def":function(e,t,a){"use strict";var o=a("8e33"),i=a.n(o);i.a},"820e":function(e,t,a){},"821a":function(e,t,a){},"82c0":function(e,t,a){},"83fc":function(e,t,a){"use strict";var o=a("c519"),i=a.n(o);i.a},"85ec":function(e,t,a){},"8e33":function(e,t,a){},"8eb2":function(e,t,a){"use strict";var o=a("c4ff"),i=a.n(o);i.a},"9f50":function(e,t,a){},ae21:function(e,t,a){"use strict";var o=a("5dae"),i=a.n(o);i.a},aed1:function(e,t,a){"use strict";var o=a("820e"),i=a.n(o);i.a},b054:function(e,t,a){"use strict";var o=a("4340"),i=a.n(o);i.a},b9af:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEBUlEQVR4Xu1bT2gcVRj/fbO7kxhzUKGlpMlsJNTZTSGtFvxzsCYHTxLFg2gCgp6KQg/ipYdC21OPioVa6KESQaxetAi9CIl4EPwTjZBkNymEnQlKaKEgaLMzu/OVKd1lM2x23tuZ/evb2zLf9/2+32++9733Zt4Q/uc/kuW/egDD2lByijyaYqJDsv6tsCdimzz8ueu4a8d28K8MhpQA+bHki0zaVQCmDEi7bJlhacRnTcv9XBRTWIB1Qz9PwDnRwJ20Y+BC1nLOi+QgJEDeSL3NoAWRgN1iQ+ydNO3Sj2H5hArw6wiGHk3o60QwwoJ12fV8seicCOsJoQJsplNPl5mWu4ycUDrE/Kxpu780Mg4VYGNMn/MIXwghdpkRM7+btd3PIgnQS80vSFSkGYZWgBKgh6Y/VQEBBdQQEFgQqR4QNnOpJqiaYO9sglozC4wmpyuBOUET5OE4aXQSjKmw4dPW64wVJvpZY+8Pj3mtgp3dLi1FWgnWc741MXyw7DqfMPBmW0nuA8bAglZyPjT/wh3ZfEJngUYBc+mBy2B+TxY0VnuiTzOF4vvNxowmwJMDJsr8E4DHm00got9dJOiFzFYx32ycPQL8Po7HBkvJ48FgjcZRJ6fJsJXeek3/qnBKDpaWj9zCP5X/VQFyhv4VgDfqKsl8m4Drpu2eDl7PGbrv4/u2/aeBZp+yit8FgR/eFD/XJ/ZJ6kbGcl7zrz0QIGfoLJQ94ZtMwXm91nbz8COj5UTZFvKP2WiQkiPjhf/+rg2bG0stgqg6czWCzFgOUc7QvwXwqmhu9cpOWEBREEE7n0CtaRPD8WtfgC0A44KYYMKX2YIzt0d10QoSBRG0CwqQN/RrDLwj6O6b2b4AYuVficq8lLHdmW4UQKb8q01QCaAqQA0B1QMkuiagmqCaBdQ0qNYBaiGkVoJqKaz2AjUKSO8npBYe+xsHd4Md2wzFxCdyGCWAxNOgWLfDkW9dTAFUBbSrApjoh5huWqxhiPkl0QeizQ+BWFPufDD5Z4KdzznWDJQAnVrExHobIwRTFaAqwNC3ARyOUEU960rgHWrifVrPEg4mTsQf0Vo69YzG5B9y0PuGmRiRe/Dw/IO3q3lDv8jAGTG//rDyGG9N2s712gMSNwDM9ge9xiwI/L1puS/7VoH366lTBLrS3yLwxxnL/aC6FwiS3UgPvOJ5PA/CfD8JweBLGmk3zULxZi0v6VNi/sEj0rTFeuKw582EHUyMKmrc+NICNPqISuQjpagCxI0vLYD/Gd1wUt8EMBIopdXdovNc2GdqUQWIG19aAJ9AvTJMAEePWE71jG5Uoo3848RvSgA/uU1Dn/SYp1nDLjNWspb7WytJB2PHhd+0AO0k20qs++YZXP3fsWZyAAAAAElFTkSuQmCC"},c4ff:function(e,t,a){},c519:function(e,t,a){},c6a0:function(e,t,a){},d5eb:function(e,t,a){},d977:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAEFUlEQVR4Xu1bT2gcVRj/fbOZTSwemkI1mS2l4CHZDSypBf8crMmhJ0nFQ7AJFOqpVOiheOmh0PbkUVFQwYNSQUy8aCjkIiTioVCxmEB2Nm2htDGT1JYUCra7s9n5ZGKybLbbnffmzf4ZfLmF+b7f7/t+73vfe2/nDeF//key+e//e+hFs7ecJTayzF6frH9T7IlWPBiLvJHI3e9b/EeGQ0qA/lLmLWL+GsCADEnLbBn3KIELq132d6KcwgJYxcFLILooCtxWO+bLTnf+kkgMQgKkNtMn2cMVEcBOsWGio2tm7regeAIFsPjIHrhPbBAOBoF12PPl8oZ5JKgnBAvgZg4DfKPDkhMKx4Px2npy6fdGxsECFAcnQPS9EGOHGRH4g9Vk/ltVAeLT/GozFWiGIhWgBYjN8qcroEYBPQWCN0S6BwStXLHaAuseoHvAbgWiaIJ9TwdHdlCNBL0C0DDARwFkg6ZPa5/zAkDXAfzplTm3w73+Qn5eaSdYz/llzr6UKJU+A/B+a5Osz8bAFTLLHzl086FsPIGrQCNAy01/AeCMLGnE9l86SfvDsJhqAhQGBpAwroHRGzYAJT/CI5S9N52e5eWwOLsEOMTDewuFwnAtWKN51NZlMqDJVfevnZzcns0bG3T78c7/FQGsUnoajPHnKPkAoCknmTtb+zxVzIwz8XTYEVDxI4PHVrvyV2sxtgfFj3VfXXzmGac7/67/bEsAy02zUCCEnxzTfq/aNsXZA1wqrQj5R2xkmrDukr1WDdvvpucIqKxcjSidpE1kFQd/BtFx4djqlJ2wgMIkYoZ+AtWW0tOR8CNZbvoOgENilAAYPzjd9sQuYtEKEiYRM3xGADfzDcCnxLy3clnxBRAr/21UBubXkvZoJwogU/6VJqgF0BWgp4DuAcJdc6tx6iaoVwG9DOp9gN4I6Z2g3gpXKSC7nZZZdoOOs2GPwvossK1AJKfBqEZUFadtp0HVwKPy1wJI/BwWaQ+IagRVcVpWAcT8q2qwzfBnordFfxANXQHNCLydmNKrQDuDbQa3FqBdu7hmjGYYTF0BugKK6b9ASIUpn9j7EO777wbjexVWcQSI8InfA14Fwb/kkFTEi5v7U4O9N/57PV7KfAzm83HLQClexgmn256quiCRmQHzmBJoXJwJvzimfcwPd9f79X43c5rAX8UljzBxEuHTVdM+VzkL1IKkNtPvsEeTAE+GIehcH/7c84zZ9Z7cbHWM0rfE/ItHRoLm6iXqlXk06GKiqkBR80sLYDX4iErkIyVVAaLmlxfA/4xu88ktMKyaZJbKG+brQZ+pKQsQMb+0AH4C9crQM42hdVqq3NFVTbSRf5T8oQTYEoGHMkbJGwGowPAW1pL5P5qZdC12VPyhBWhlss3k+he7P16e0BYzdAAAAABJRU5ErkJggg=="},db17:function(e,t,a){},df96:function(e,t,a){"use strict";var o=a("57c5"),i=a.n(o);i.a},e760:function(e,t,a){"use strict";var o=a("6ad4"),i=a.n(o);i.a},ebe6:function(e,t,a){},f605:function(e,t,a){"use strict";var o=a("db17"),i=a.n(o);i.a},f8ac:function(e,t,a){},fcb0:function(e,t,a){"use strict";var o=a("f8ac"),i=a.n(o);i.a}});
//# sourceMappingURL=app.07210c16.js.map